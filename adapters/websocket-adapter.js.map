{"version":3,"sources":["/Users/michaelsilvestre/git/shifterbelt/beta/adapters/websocket-adapter.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;wBAIqB,WAAW;;;;sBACR,uBAAuB;;IAAnC,MAAM;;2BACK,iBAAiB;;;;IAEnB,gBAAgB;AACtB,aADM,gBAAgB,CACrB,QAAQ,EAAE;8BADL,gBAAgB;;AAE7B,mCAFa,gBAAgB,6CAEvB,WAAW,EAAE;;AAEnB,YAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACvB;;cALgB,gBAAgB;;iBAAhB,gBAAgB;;eAO7B,cAAC,QAAQ,EAAE;AACX,gBAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;AAC7D,gBAAI,CAAC,GAAG,GAAG,sBAAS,eAAe,CAAC,IAAI,CAAC,CAAC;AAC1C,gBAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;AACnD,mBAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;AAC/C,oBAAQ,CAAC,IAAI,CAAC,CAAC;SAClB;;;aAEK,YAAG;AACL,mBAAO,IAAI,CAAC,GAAG,CAAC;SACnB;;;eAES,oBAAC,QAAQ,EAAE;AACjB,gBAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;SACxC;;;WArBgB,gBAAgB;;;qBAAhB,gBAAgB","file":"websocket-adapter.js","sourcesContent":["/**\n * Created by michaelsilvestre on 22/04/15\n */\n\nimport socketIo from \"socket.io\"\nimport * as config from \"../config/adapters.js\"\nimport AbsAdapter from \"./absAdapter.js\"\n\nexport default class WebsocketAdapter extends AbsAdapter {\n    constructor(callback) {\n        super('websocket');\n\n        this.init(callback);\n    }\n\n    init(callback) {\n        let websocketConfig = config.adapters.getConfig(\"websocket\");\n        this._io = socketIo(websocketConfig.port);\n        this._nsp = this._io.of(websocketConfig.namespace);\n        console.log('socket.io successfull connected');\n        callback(this);\n    }\n\n    get io() {\n        return this._io;\n    }\n\n    connection(callback) {\n        this._nsp.on(\"connection\", callback);\n    }\n}\n"]}