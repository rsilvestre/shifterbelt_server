{"version":3,"sources":["/Users/michaelsilvestre/git/shifterbelt/beta/adapters/redis-adapter.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;qBAIkB,OAAO;;;;sBACD,uBAAuB;;IAAnC,MAAM;;2BACK,iBAAiB;;;;mBACxB,KAAK;;;;IAEA,YAAY;AAClB,aADM,YAAY,CACjB,QAAQ,EAAE;8BADL,YAAY;;AAEzB,mCAFa,YAAY,6CAEnB,QAAQ,EAAE;AAChB,YAAI,CAAC,IAAI,EAAE,CAAC;AACZ,eAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;AAC3C,gBAAQ,CAAC,IAAI,CAAC,CAAC;KAClB;;cANgB,YAAY;;iBAAZ,YAAY;;eAQzB,gBAAG;AACH,gBAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AACtD,gBAAI,QAAQ,GAAG,iBAAI,KAAK,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC;;AAEnD,gBAAI,CAAC,YAAY,GAAG,mBAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,QAAQ,EAAE,EAAC,cAAc,EAAE,IAAI,EAAC,CAAC,CAAC;;AAEjG,gBAAI,QAAQ,CAAC,IAAI,EAAE;AACf,oBAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACvD;;AAED,gBAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE,UAAS,GAAG,EAAE;AACxC,4BAAY,CAAC;;AAEb,uBAAO,CAAC,GAAG,CAAC,QAAQ,GAAE,GAAG,CAAC,CAAC;AAC3B,mBAAG,CAAC,IAAI,CAAC,QAAQ,GAAE,GAAG,CAAC,CAAC;aAC3B,CAAC,CAAC;SACN;;;aAES,YAAG;AACT,mBAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;;;WA5BgB,YAAY;;;qBAAZ,YAAY","file":"redis-adapter.js","sourcesContent":["/**\n * Created by michaelsilvestre on 19/04/15\n */\n\nimport redis from \"redis\"\nimport * as config from \"../config/adapters.js\"\nimport AbsAdapter from \"./absAdapter.js\"\nimport url from \"url\"\n\nexport default class RedisAdapter extends AbsAdapter {\n    constructor(callback) {\n        super(\"memory\");\n        this.init();\n        console.log('redis successfull connected');\n        callback(this);\n    }\n\n    init() {\n        let redisConfig = config.adapters.getConfig(\"memory\");\n        var redisURL = url.parse(redisConfig.defaultUrl());\n\n        this._redisClient = redis.createClient(redisURL.port, redisURL.hostname, {no_ready_check: true});\n\n        if (redisURL.auth) {\n            this._redisClient.auth(redisURL.auth.split(\":\")[1]);\n        }\n\n        this._redisClient.on('error', function(err) {\n            \"use strict\";\n\n            console.log('Error '+ err);\n            log.info('Error '+ err);\n        });\n    }\n\n    get client() {\n        return this._redisClient;\n    }\n\n}\n"]}