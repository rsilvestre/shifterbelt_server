{"version":3,"sources":["absAdapter.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;8BAIwB,qBAAqB;;IAAjC,MAAM;;2BACC,kBAAkB;;;;AAErC,IAAI,GAAG,GAAG,8BAAY,CAAC;;AAEvB,IAAI,iBAAiB,GAAG,EAAE,CAAC;;AAE3B,SAAS,KAAK,CAAC,GAAG,EAAE;AAClB,MAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;AACtF,WAAO,IAAI,KAAK,qBAAmB,GAAG,iBAAc,CAAC;GACtD;AACD,SAAO,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;CAC3D;;AAEM,IAAI,QAAQ,GAAG;AACpB,aAAW,EAAA,uBAAG;AACZ,WAAO,iBAAiB,CAAC;GAC1B;AACD,YAAU,EAAA,oBAAC,IAAI,EAAE;AACf,WAAO,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;GAC5C;CACF,CAAC;;QAPS,QAAQ,GAAR,QAAQ;;IASE,UAAU;AAClB,WADQ,UAAU,CACjB,IAAI,EAAE;0BADC,UAAU;;AAE3B,QAAI,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC7C,QAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACjC,OAAG,CAAC,KAAK,oBAAkB,IAAI,CAAC,IAAI,0CAAuC,CAAC;GAC7E;;eALkB,UAAU;;SAOtB,YAAG;AACR,aAAO,IAAI,CAAC,IAAI,CAAC;KAClB;;;WAES,oBAAC,GAAG,EAAE,KAAK,EAAE;AACrB,UAAI,iBAAiB,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AAC3C,eAAO,IAAI,KAAK,mBAAiB,KAAK,mBAAgB,CAAC;OACxD;AACD,uBAAiB,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;KAChC;;;WAEU,uBAAG;AACZ,aAAO,iBAAiB,CAAC;KAC1B;;;WAEc,yBAAC,GAAG,EAAE;AACnB,UAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AAC1C,eAAO,IAAI,KAAK,qBAAmB,GAAG,iBAAc,CAAA;OACrD;AACD,aAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;KAC/B;;;WAEe,0BAAC,IAAI,EAAE;AACrB,UAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC3C,UAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AAC1C,eAAO,IAAI,KAAK,eAAa,GAAG,iBAAc,CAAC;OAChD;AACD,aAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;KAC/B;;;SAnCkB,UAAU;;;qBAAV,UAAU","file":"absAdapter.js","sourcesContent":["/**\n * Created by michaelsilvestre on 19/04/15\n */\n\nimport * as config from \"../config/config.js\"\nimport Logger from \"../lib/logger.js\"\n\nlet log = new Logger();\n\nlet adapterContainers = {};\n\nfunction extra(key) {\n  if (!this.hasOwnProperty(key) && !this.hasOwnProperty(config.adapters.getAdapter(key))) {\n    return new Error(`The adaptater: ${key}, not exist`);\n  }\n  return this[key] || this[config.adapters.getAdapter(key)];\n}\n\nexport let adapters = {\n  getAdapters() {\n    return adapterContainers;\n  },\n  getAdapter(name) {\n    return extra.call(adapterContainers, name);\n  }\n};\n\nexport default class AbsAdapter {\n  constructor(name) {\n    this._key = config.adapters.getAdapter(name);\n    this.addAdapter(this._key, this);\n    log.debug = `the module: ${this._key}, has been added to the adapters list`;\n  }\n\n  get key() {\n    return this._key;\n  }\n\n  addAdapter(key, value) {\n    if (adapterContainers.hasOwnProperty(value)) {\n      return new Error(`The adapter: ${value}, still exist`);\n    }\n    adapterContainers[key] = value;\n  }\n\n  getAdapters() {\n    return adapterContainers;\n  }\n\n  getAdapterByKey(key) {\n    if (!adapterContainers.hasOwnProperty(key)) {\n      return new Error(`The adaptater: ${key}, not exist`)\n    }\n    return adapterContainers[key];\n  }\n\n  getAdapterByName(name) {\n    let key = config.adapters.getAdapter(name);\n    if (!adapterContainers.hasOwnProperty(key)) {\n      return new Error(`The key: ${key}, not exist`);\n    }\n    return adapterContainers[key];\n  }\n}"]}