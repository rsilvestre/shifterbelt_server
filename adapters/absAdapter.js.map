{"version":3,"sources":["absAdapter.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;8BAIwB,qBAAqB;;IAAjC,MAAM;;2BACC,kBAAkB;;;;AAErC,IAAI,GAAG,GAAG,8BAAY,CAAC;;AAEvB,IAAI,iBAAiB,GAAG,EAAE,CAAC;;AAE3B,SAAS,KAAK,CAAC,GAAG,EAAE;AAChB,QAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;AACpF,eAAO,IAAI,KAAK,qBAAmB,GAAG,iBAAc,CAAC;KACxD;AACD,WAAO,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;CAC7D;;AAEM,IAAI,QAAQ,GAAG;AAClB,eAAW,EAAA,uBAAG;AACV,eAAO,iBAAiB,CAAC;KAC5B;AACD,cAAU,EAAA,oBAAC,IAAI,EAAE;AACb,eAAO,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;KAC9C;CACJ,CAAC;;QAPS,QAAQ,GAAR,QAAQ;;IASE,UAAU;AAChB,aADM,UAAU,CACf,IAAI,EAAE;8BADD,UAAU;;AAEvB,YAAI,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC7C,YAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACjC,WAAG,CAAC,KAAK,oBAAkB,IAAI,CAAC,IAAI,0CAAuC,CAAC;KAC/E;;iBALgB,UAAU;;aAOpB,YAAG;AACN,mBAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;eAES,oBAAC,GAAG,EAAE,KAAK,EAAE;AACnB,gBAAI,iBAAiB,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AACzC,uBAAO,IAAI,KAAK,mBAAiB,KAAK,mBAAgB,CAAC;aAC1D;AACD,6BAAiB,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;SAClC;;;eAEU,uBAAG;AACV,mBAAO,iBAAiB,CAAC;SAC5B;;;eAEc,yBAAC,GAAG,EAAE;AACjB,gBAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AACxC,uBAAO,IAAI,KAAK,qBAAmB,GAAG,iBAAc,CAAA;aACvD;AACD,mBAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;SACjC;;;eAEe,0BAAC,IAAI,EAAE;AACnB,gBAAI,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC3C,gBAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AACxC,uBAAO,IAAI,KAAK,eAAa,GAAG,iBAAc,CAAC;aAClD;AACD,mBAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;SACjC;;;WAnCgB,UAAU;;;qBAAV,UAAU","file":"absAdapter.js","sourcesContent":["/**\n * Created by michaelsilvestre on 19/04/15\n */\n\nimport * as config from \"../config/config.js\"\nimport Logger from \"../lib/logger.js\"\n\nlet log = new Logger();\n\nlet adapterContainers = {};\n\nfunction extra(key) {\n    if (!this.hasOwnProperty(key) && !this.hasOwnProperty(config.adapters.getAdapter(key))) {\n        return new Error(`The adaptater: ${key}, not exist`);\n    }\n    return this[key] || this[config.adapters.getAdapter(key)];\n}\n\nexport let adapters = {\n    getAdapters() {\n        return adapterContainers;\n    },\n    getAdapter(name) {\n        return extra.call(adapterContainers, name);\n    }\n};\n\nexport default class AbsAdapter {\n    constructor(name) {\n        this._key = config.adapters.getAdapter(name);\n        this.addAdapter(this._key, this);\n        log.debug = `the module: ${this._key}, has been added to the adapters list`;\n    }\n\n    get key() {\n        return this._key;\n    }\n\n    addAdapter(key, value) {\n        if (adapterContainers.hasOwnProperty(value)) {\n            return new Error(`The adapter: ${value}, still exist`);\n        }\n        adapterContainers[key] = value;\n    }\n\n    getAdapters() {\n        return adapterContainers;\n    }\n\n    getAdapterByKey(key) {\n        if (!adapterContainers.hasOwnProperty(key)) {\n            return new Error(`The adaptater: ${key}, not exist`)\n        }\n        return adapterContainers[key];\n    }\n\n    getAdapterByName(name) {\n        let key = config.adapters.getAdapter(name);\n        if (!adapterContainers.hasOwnProperty(key)) {\n            return new Error(`The key: ${key}, not exist`);\n        }\n        return adapterContainers[key];\n    }\n}"]}