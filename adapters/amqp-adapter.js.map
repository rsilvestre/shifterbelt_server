{"version":3,"sources":["/Users/michaelsilvestre/git/shifterbelt/beta/adapters/amqp-adapter.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;oBAIiB,MAAM;;;;sBACC,uBAAuB;;IAAnC,MAAM;;2BACK,iBAAiB;;;;IAEnB,WAAW;AACjB,aADM,WAAW,CAChB,QAAQ,EAAE;8BADL,WAAW;;AAExB,mCAFa,WAAW,6CAElB,OAAO,EAAE;;AAEf,YAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACvB;;cALgB,WAAW;;iBAAX,WAAW;;eAOxB,cAAC,QAAQ,EAAE;;;AACX,gBAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;;AAEpD,gBAAI,CAAC,WAAW,GAAG,kBAAK,gBAAgB,CAAC,UAAU,CAAC,CAAC;AACrD,gBAAI,CAAC,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,YAAM;AAC/B,uBAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;AAC1C,wBAAQ,OAAM,CAAC;aAClB,CAAC,CAAC;SACN;;;aAEa,YAAG;AACb,mBAAO,IAAI,CAAC,WAAW,CAAC;SAC3B;;;WAnBgB,WAAW;;;qBAAX,WAAW","file":"amqp-adapter.js","sourcesContent":["/**\n * Created by michaelsilvestre on 20/04/15\n */\n\nimport amqp from \"amqp\"\nimport * as config from \"../config/adapters.js\"\nimport AbsAdapter from \"./absAdapter.js\"\n\nexport default class AmqpAdapter extends AbsAdapter {\n    constructor(callback) {\n        super(\"queue\");\n\n        this.init(callback);\n    }\n\n    init(callback) {\n        let amqpConfig = config.adapters.getConfig(\"queue\");\n\n        this._connection = amqp.createConnection(amqpConfig);\n        this._connection.on('ready', () => {\n            console.log('amqp successfull connected');\n            callback(this);\n        });\n    }\n\n    get connection() {\n        return this._connection;\n    }\n}"]}