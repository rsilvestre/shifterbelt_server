{"version":3,"sources":["/Users/michaelsilvestre/git/shifterbelt/beta/lib/model-manager.es6"],"names":[],"mappings":";;;;;;;;;;;QA+BgB,KAAK,GAAL,KAAK;;;;;sBA3BE,kBAAkB;;AAEzC,IAAI,aAAa,GAAG,EAAE,CAAC;;AAEhB,IAAI,YAAY,GAAG;AACtB,SAAK;;;;;;;;;;OAAE,UAAC,IAAI,EAAwB;YAAtB,KAAK,gCAAG,SAAS;;AAC3B,YAAI,CAAC,KAAK,EAAE;AACR,gBAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;AACrC,uBAAQ,IAAI,CAAC;aAChB;AACD,mBAAO,aAAa,CAAC,IAAI,CAAC,CAAC;SAC9B;AACD,YAAI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;AACpC,mBAAO,IAAI,CAAC;SACf;AACD,qBAAa,CAAC,IAAI,CAAC,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;AAC9C,eAAO,YAAY,CAAC,IAAI,CAAC,CAAC;KAC7B,CAAA;AACD,eAAW,EAAE,qBAAC,IAAI,EAAc;;;0CAAT,IAAI;AAAJ,gBAAI;;;AACvB,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;AACrC,oBApBH,MAAM,CAoBI,KAAK,iBAAe,IAAI,iBAAc,CAAC;AAC9C,mBAAO,IAAI,KAAK,iBAAe,IAAI,iBAAc,CAAC;SACrD;AACD,eAAO,uBAAA,aAAa,CAAC,IAAI,CAAC,EAAC,WAAW,MAAA,sBAAI,IAAI,CAAC,CAAC;KACnD;CACJ,CAAC;;QArBS,YAAY,GAAZ,YAAY;;AAuBhB,SAAS,KAAK,CAAC,IAAI,EAAqB;QAAnB,KAAK,gCAAG,SAAS;;AACzC,QAAI,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;AACtC,WAAO,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;CAC1C;;IAGK,YAAY;AACH,aADT,YAAY,CACF,KAAK,EAAE;8BADjB,YAAY;;AAEV,YAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB;;iBAHC,YAAY;;eAKH,uBAAU;+CAAN,IAAI;AAAJ,oBAAI;;;AACf,mBAAO,IAAI,CAAC,SAAS,oBAAO,IAAI,CAAC,MAAM,gBAAI,IAAI,KAAC,CAAC;SACpD;;;aAEW,YAAG;AACX,mBAAO,IAAI,CAAC,SAAS,CAAC;SACzB;;;WAXC,YAAY","file":"model-manager.js","sourcesContent":["/**\n * Created by michaelsilvestre on 22/04/15\n */\n\nimport { logger } from \"../lib/logger.js\"\n\nlet modelManagers = {};\n\nexport let modelManager = {\n    model: (name, model = undefined) => {\n        if (!model) {\n            if (!modelManagers.hasOwnProperty(name)) {\n                return  null;\n            }\n            return modelManagers[name];\n        }\n        if (modelManagers.hasOwnProperty(name)) {\n            return null;\n        }\n        modelManagers[name] = new ModelManager(model);\n        return modelManager[name];\n    },\n    instanciate: (name, ...args) => {\n        if (!modelManagers.hasOwnProperty(name)) {\n            logger.error(`The model: ${name}, not exist`);\n            return new Error(`The model: ${name}, not exist`);\n        }\n        return modelManagers[name].instanciate(...args);\n    }\n};\n\nexport function model(name, model = undefined) {\n    let modelManager = new ModelManager();\n    return modelManager.model(name, model);\n}\n\n\nclass ModelManager {\n    constructor(model) {\n        this._model = model;\n    }\n\n    instanciate(...args) {\n        return this._instance = new this._model(...args);\n    }\n\n    get instance() {\n        return this._instance;\n    }\n}"]}