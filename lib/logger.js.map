{"version":3,"sources":["logger.es6"],"names":[],"mappings":"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","file":"logger.js","sourcesContent":["/**\n * Created by michaelsilvestre on 20/04/15\n */\n\n/**\n * 0 EMERGENCY system is unusable\n * 1 ALERT action must be taken immediately\n * 2 CRITICAL the system is in critical condition\n * 3 ERROR error condition\n * 4 WARNING warning condition\n * 5 NOTICE a normal but significant condition\n * 6 INFO a purely informational message\n * 7 DEBUG messages to debug an application\n */\n\nimport Log from \"log\"\nimport fs from \"fs\"\nimport appRootPath from \"app-root-path\"\nimport logentries from 'node-logentries';\nimport config from '../config/config'\nexport var log = null;\n\nexport let logger = {\n  error: (value) => {\n    if (log instanceof LoggerAbs) {\n      log.error = value;\n    }\n  },\n  debug: (value) => {\n    if (log instanceof LoggerAbs) {\n      log.debug = value;\n    }\n  },\n  notice: (value) => {\n    if (log instanceof LoggerAbs) {\n      log.notice = value;\n    }\n  },\n  warn: (value) => {\n    if (log instanceof LoggerAbs) {\n      log.warning = value;\n    }\n  },\n  info: (value) => {\n    if (log instanceof LoggerAbs) {\n      log.info = value;\n    }\n  }\n};\n\nclass LoggerAbs {\n  constructor() {\n\n  }\n\n  init(logLevel, logFile) {\n    if ([\"error\", \"debug\", \"info\"].indexOf(logLevel) == -1) {\n      return new Error(`The log level: ${logLevel}, not exist`);\n    }\n    //log = new Log(logLevel, fs.createWriteStream(`${appRootPath}/log/${logFile}`));\n    this._log = logentries.logger({\n      token: config.logentries_token\n    });\n    log = this;\n  }\n\n}\n\nclass LoggerDev extends LoggerAbs {\n  constructor() {\n    super();\n  }\n\n  set error(value) {\n    console.error(value);\n    this._log.error(value);\n  }\n\n  set debug(value) {\n    console.log(value);\n    this._log.debug(value);\n  }\n\n  set warning(value) {\n    console.warn(value);\n    this._log.warning(value);\n  }\n\n  set notice(value) {\n    console.log(value);\n    this._log.notice(value);\n  }\n\n  set info(value) {\n    console.info(value);\n    this._log.info(value);\n  }\n}\n\nclass LoggerProd extends LoggerAbs {\n  constructor() {\n    super();\n  }\n\n  set error(value) {\n    this._log.error(value);\n  }\n\n  set debug(value) {\n    this._log.debug(value);\n  }\n\n  set warning(value) {\n    this._log.warning(value);\n  }\n\n  set notice(value) {\n    this._log.notice(value);\n  }\n\n  set info(value) {\n    this._log.info(value);\n  }\n}\n\nexport default class Logger {\n  constructor() {\n    return {\n      development: () => {\n        return new LoggerDev();\n      },\n      pre_prod: () => {\n        return new LoggerDev();\n      },\n      test: ()=> {\n        return new LoggerDev();\n      },\n      production: ()=> {\n        return new LoggerProd();\n      }\n    }[process.env.NODE_ENV || 'development']();\n  }\n}\n"]}