{"version":3,"sources":["/Users/michaelsilvestre/git/shifterbelt/beta/lib/bootstrap.es6"],"names":[],"mappings":";;;;;;;;;;;;;;;sBAI0B,sBAAsB;;IAApC,QAAQ;;uBACI,uBAAuB;;IAAnC,MAAM;;AAElB,SAAS,UAAU,CAAC,IAAI,EAAE;AACtB,WAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;CAChC;;AAED,SAAS,QAAQ,CAAC,IAAI,EAAE;AACpB,WAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,YAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;KACxC,CAAC,CAAC;CACN;;IAEoB,SAAS;AACf,aADM,SAAS,CACd,QAAQ,EAAE;8BADL,SAAS;;AAEtB,YAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;KAChC;;iBAHgB,SAAS;;eAKvB,eAAG;;;AACF,gBAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CACnD,IAAI,CAAC,YAAK;AACP,uBAAO,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;aACzD,CAAC,CACD,IAAI,CAAC,YAAM;AACR,uBAAO,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;aACxD,CAAC,CAAC,IAAI,CAAC,UAAC,aAAa,EAAK;AACvB,oBAAI,QAAQ,GAAG,aAAa,CAAC,WAAW,EAAE,CAAC;AAC3C,oBAAI,GAAG,GAAG,IAAI,MAAK,YAAY,CAAC,QAAQ,CAAC,CAAC;aAE7C,CAAC,CAAC;SACV;;;WAjBgB,SAAS;;;qBAAT,SAAS","file":"bootstrap.js","sourcesContent":["/**\n * Created by michaelsilvestre on 19/04/15\n */\n\nimport * as adapters from \"../adapters/index.js\"\nimport * as config from \"../config/adapters.js\"\n\nfunction getAdapter(name) {\n    return config.adapters[name];\n}\n\nfunction dbloader(name) {\n    return new Promise((resolve, reject) => {\n        new adapters.adapters[name](resolve);\n    });\n}\n\nexport default class Bootstrap {\n    constructor(callback) {\n        this._application = callback;\n    }\n\n    run() {\n        var p = dbloader(config.adapters.getAdapter(\"database\"))\n            .then(()=> {\n                return dbloader(config.adapters.getAdapter('memory'));\n            })\n            .then(() => {\n                return dbloader(config.adapters.getAdapter('queue'));\n            }).then((rabbitAdapter) => {\n                let adapters = rabbitAdapter.getAdapters();\n                let app = new this._application(adapters);\n\n            });\n    }\n}\n"]}